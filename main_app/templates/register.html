{% extends "base.html" %}
{% block content %}
<div class='register-content'>
    <form action="/register_user_firebase/" method='post' id="registerForm">
    {% csrf_token %}
    <h1 class='register-h1'>Register an account here</h1>
    <input type="text" placeholder="First name" name="fname" class='register-input'>
    <input type="text" placeholder="Last name" name="lname" class='register-input'>
    <input type="email" placeholder="Email" name="email" id="registerEmail" class='register-input' onkeydown="validation();">
    <span id="emailValidationText"></span>
    <input type="password" placeholder="Password" name="password" class='register-input'>
    <input type="password" placeholder="Confirm password" name="confirm_password" class='register-input'>
    <br>
    {%if messages%}
    {%for msg in messages%}
    <h3>{{msg}}</h3>
    {%endfor%}
    {%endif%}
    <input type="submit" value="Register" class="register-button" />
    <br>
    <br>
    <a href="#" class="register-link" style='text-align: center;'>Already a member? Login here.</a>
    </form>
</div>
<script type="text/javascript">
    function validation(){
    var form = document.getElementById('registerForm');
    var email = document.getElementById('registerEmail').value;
    var text = document.getElementById('emailValidationText');
    var pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;

    if(email.match(pattern)){
        form.classList.add("valid");
        form.classList.remove("invalid");
        text.innerHTML = "Your Email Address is Valid";
        text.style.color = "#00ff00";
    }
    else{
        form.classList.remove("valid");
        form.classList.add("invalid");
        text.innerHTML = "Please Enter Valid Email Address";
        text.style.color = "#ff0000";
    }
}
</script>
{% endblock content %}